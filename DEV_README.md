# 実装内容の完全まとめ

## 理論概要

**「適応的差分検出理論（相対判定パラダイム）」のバックプロパゲーションベース実装**

- 各層で「期待パターン vs 実際パターン」の差分を計算
- 差分の大きさに応じて学習率を動的調整
- 「勾配前の差分チェック」による計算効率化
- 絶対的正解不要の自己組織化学習

## 実装方針

### 基本フロー

```
入力 → ネットワーク全体で推論実行 → 出力生成 → 各層の差分計算 → 学習率調整 → バックプロパゲーション
```

### 技術仕様

- **差分計算手法**: VUS（Volume Under Surface）ベースの異常検知
- **期待パターン**: 各層出力の統計的分布（平均・分散）を正常パターンとして学習
- **学習率調整粒度**: ニューロン単位 + 近隣への影響（実験で両方試行）
- **実装基盤**: PyTorchの`register_forward_hook`/`register_backward_hook`
- **設計パターン**: ストラテジーパターンで差分計算手法を切り替え可能に

### 実験要素

1. **近隣影響範囲の比較**
    - 同一層内空間的近隣（CNNの隣接フィルタ等）
    - 層間接続関係による近隣（重み強度ベース）

2. **差分計算手法の比較**
    - VUSベース異常検知
    - その他の統計的差分手法